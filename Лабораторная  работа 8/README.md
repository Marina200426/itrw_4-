# Лабораторная работа 8 - Логирование для SQLite-репозиториев

## Описание

Лабораторная работа 8 добавляет логирование для всех SQLite-репозиториев с использованием интерфейса Logger и его реализаций.

## Функциональность

1. **Интерфейс Logger** (`LoggerInterface`):
   - `info(string $message)` - логирование информационных сообщений
   - `warning(string $message)` - логирование предупреждений
   - `error(string $message)` - логирование ошибок

2. **Реализации логгера**:
   - `FileLogger` - запись логов в файл
   - `TestLogger` - тестовая реализация для модульных тестов

3. **Логирование в репозиториях**:
   - **INFO** - при сохранении объектов (метод `save()`)
   - **WARNING** - когда объект не найден (метод `get()`)

4. **Веб-интерфейс**:
   - Просмотр логов в реальном времени
   - Фильтрация по уровням (INFO, WARNING, ERROR)
   - Тестирование логирования через веб-интерфейс

## Структура проекта

```
Лабораторная_работа_8/
├── src/
│   ├── Logger/
│   │   ├── LoggerInterface.php      # Интерфейс логгера
│   │   ├── FileLogger.php           # Реализация для записи в файл
│   │   └── TestLogger.php            # Тестовая реализация
│   ├── Models/                       # Модели данных
│   ├── Repositories/                 # Репозитории с логированием
│   ├── Exceptions/                   # Исключения
│   └── Utils/                        # Утилиты
├── config/
│   └── database.php                  # Конфигурация БД
├── database/
│   └── schema.sql                    # Схема БД
├── api/
│   ├── get_logs.php                  # API для получения логов
│   ├── get_data.php                  # API для получения данных
│   └── test/                         # API для тестирования
├── tests/
│   ├── TestRunner.php                # Запуск тестов
│   ├── RepositoriesTest.php          # Тесты репозиториев
│   └── run_tests.php                 # Скрипт запуска тестов
├── logs/                             # Директория для логов
├── index.php                         # Веб-интерфейс
├── styles.css                        # Стили
└── start-server.bat                  # Скрипт запуска сервера
```

## Инициализация тестовых данных

Перед запуском веб-интерфейса создайте тестовые данные:

```bash
php init_test_data.php
```

Этот скрипт создаст:
- 5 пользователей
- 5 статей
- 8 комментариев
- Лайки для статей и комментариев

**Основные моменты для проверки:**
- ✅ Логирование INFO при сохранении объектов (с UUID)
- ✅ Логирование WARNING при отсутствии объектов (с UUID)
- ✅ Веб-интерфейс отображает логи в реальном времени
- ✅ Все модульные тесты проходят

## Особенности реализации

- Все репозитории принимают `LoggerInterface` в конструкторе
- Логирование INFO при сохранении объектов с UUID
- Логирование WARNING при попытке получить несуществующий объект
- Тестовая реализация логгера для модульных тестов
- Веб-интерфейс для просмотра логов в реальном времени


